fetch('https://raw.githubusercontent.com/paullabkorea/recordGithubAction/main/json/fetchtestbasicdata.json').then(function(response){
        response.json().then(function(basicdata){
            document.getElementById('시가총액').innerHTML = '시가총액 : ' + basicdata[0].시가총액 + '억원'
            document.getElementById('시가총액순위').innerHTML = '시가총액순위 : ' + basicdata[0].시가총액순위 + '위'
            document.getElementById('상장주식수').innerHTML = '상장주식수 : ' + basicdata[0].상장주식수 + '주'
            document.getElementById('배당수익률').innerHTML = '배당수익률 : ' + basicdata[0].배당수익률
            document.getElementById('매출').innerHTML = '매출 : ' + basicdata[0].매출
            document.getElementById('비용').innerHTML = '비용 : ' + basicdata[0].비용
            document.getElementById('순익').innerHTML = '순익 : ' + basicdata[0].순익
        })
    })

fetch('https://raw.githubusercontent.com/paullabkorea/recordGithubAction/main/json/fetchtestdata.json').then(function(response){
        response.json().then(function(data){
            let tableBodyData = [];
            for (let variable of data) {
                tableBodyData.push(`
                    <tr>
                        <td>${variable.날짜}</td>
                        <td>${variable.종가}</td>
                        <td>${variable.전일비}</td>
                        <td>${variable.거래량}</td>
                    </tr>
                `);
            }
            document.querySelector('.table > tbody').innerHTML = tableBodyData.join('');


            let labels_chart_input = [];
            let data_chart_input = [];
            for (let variable of data) {
                labels_chart_input.push(variable.날짜)
                data_chart_input.push(variable.종가)
            }
            var config = {
                type: 'line',
                data: {
                    labels: labels_chart_input,
                    datasets: [{
                        label: '종가',
                        backgroundColor: 'red',
                        borderColor: 'red',
                        data: data_chart_input,
                        fill: false,
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: '데이터 시각화'
                    },
                    scales: {
                        xAxes: [{
                            display: true,
                        }],
                    }
                }
            };

            var ctx = document.getElementById('canvas').getContext('2d');
            window.myLine = new Chart(ctx, config);
                
        })
    })
